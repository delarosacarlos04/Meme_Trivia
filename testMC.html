<?php

$data = file_get_contents('test.txt'); // Get the file content
$data = str_replace(array("\n", "\r"), '', $data); // Clear newline characters

$data = explode(':', $data); // Get each record by : at end of line

unset($data[count($data) - 1]); // Clear the last empty element

$lang = array();
foreach($data AS $row){ // Loop the exploded data
    $lang[] = explode(' = ', $row); // Explode each row by Space=Space to each row of final_array
}

?>


<h1>Which meme contains a frog?</h1><br>
<form >

    <input type="radio" name="choice" value="Pepe"> Pepe
    <input type="radio" name="choice" value="Spongegar"> Spongegar
    <input type="radio" name="choice" value="Get That Bread"> Get That Bread
    <input type="radio" name="choice" value="None of These"> None of These
</form>
<button onclick="submitAnswer()">Submit Answer</button>
<body onload="buildQuestion()">

<div id="langDiv"></div>

</body>


<script>


    function buildQuestion() {
/*        var fs = require("fs");
        var text = fs.readFileSync('test.txt').toString().split("\n");
        var textByLine = text.split("\n");
        var lang = textByLine.map((value) => value.split('='));*/

        var div = document.getElementById("langDiv");

        var lang = [1,2,3,4];

        var html = "";
        for (var i = 0; i < 3; i++) {
            var butt=document.createElement("button");
            butt.innerHTML=lang[i];
            div.appendChild(butt);

        }


   }



    function submitAnswer() {
        var radios = document.getElementsByName("choice");
        var i = 0, len = radios.length;
        var checked = false;
        var userAnswer;

        for( ; i < len; i++ ) {
            if(radios[i].checked) {
                checked = true;
                userAnswer = radios[i].value;
            }
        }
        // if user click submit button without selecting any option, alert box should be say "please select choice answer".
        if(!checked) {
            alert("please select choice answer");
            return;
        }
        // Correct answer
        if(userAnswer == "Pepe") {
            alert("Answer is correct!");
        }
        // incorrect answer
        else {
            alert("Answer is wrong!");
        }

    }
    buildQuestion();
</script>
